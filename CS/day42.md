## 제네레이터 기반 Coroutine

- 일반적인 파이썬 코드에서는 서브 루틴이 메인 루틴에 종속적 관계
- 메인 / 서브 루틴
    - 메인 루틴: 함수를 직접적으로 호출하는 부분
    - 서브 루틴: 호출한 함수가 직접적으로 수행되는 부분
- Coroutine에서는 메인 / 서브 루틴이 종속적 관계가 아닌 대등한 관계로, 메인 루틴과 서브 루틴 간에 서로 반복적으로 호출할 수 있게 해주는 것
    - 서브 루틴을 코루틴 함수, 메인 루틴이 코루틴 함수를 호출하는 것이라고 생각하면 됨
    - 코루틴의 최초 시작은 메인 루틴에서 시작
    - 최초 호출이 진행되면 계속적으로 메인 / 서브 루틴 간 서로를 호출하며 제어권을 주고받게 됨

## Native Coroutine

- async 키워드, asyncio 모듈을 활용하여 구현하는 비동기 처리 함수
- python 3.5 이상부터 지원
- 동작 방식
    - 함수 선언부에서 async 키워드를 통해 함수 선언
    - `asyncio` 모듈의 `get_event_loop`를 통해 event loop 객체를 생성
    - `run_until_complete` 에 코루틴 객체를 인자로 전달
    - `run_until_complete` 의 인자로 받은 함수가 완전히 종료될 때까지 event loop 실행
    - `loop_close` 를 통해 이벤트 루프를 닫고 종료
- 코루틴 안에서 다른 코루틴을 실행할 때는 `await` 를 사용